TODO: modify thrift compiler to generate the code just like calculator/
